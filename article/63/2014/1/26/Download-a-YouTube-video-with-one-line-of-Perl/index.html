<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> Download a YouTube video with one line of Perl </title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="... and a lot of of help from WWW::YouTube::Download"/>
    <meta name="robots" content="index, follow">
    <link rel="icon" href="/favicon.ico">
    
</head>
<body>

<div class="container antonio">
  <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <ul id="follow-buttons" class="nav navbar-nav pull-right follow">
          <li>FOLLOW US:</li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perltricks">
              <img src="/images/header/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/index.xml" />
              <img src="/images/header/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/dnmfarrell/perltricks-static/" />
              <img src="/images/header/github_light_20.png" alt="GH"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-brand" href="/">
          <img src="/images/header/perltricks_logo.png" alt="PerlTricks" />
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/">
              <div class="circle">
                  <span class="glyphicon glyphicon-home txt-perltricks-blue" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;HOME</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-pencil txt-perltricks-blue" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/about">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-perltricks-blue" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
<div class="push"></div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article>
              
              
              <h1 class="blog-post-title">Download a YouTube video with one line of Perl</h1>
              <p class="blog-post-meta">Jan 26, 2014 by <a href="#author-bio">David Farrell</a></p>
              <img alt="" src="/images/63/EC2F7326-FF2E-11E3-B942-5C05A68B9E16.png"/>
                

<p><em>Downloading YouTube videos with Perl is easy when you&rsquo;re packing the right module. That module is <a href="https://metacpan.org/pod/WWW::YouTube::Download">WWW::YouTube::Download</a>. Here&rsquo;s how you can download a video in one line of Perl.</em></p>

<p>*<strong>Edit</strong> - this article was updated on 27/1/2014 to describe the &ldquo;youtube-download&rdquo; app that comes with WWW::YouTube::Download.*</p>

<h3 id="warning:530784e281eacfc273aaf409e299faae">Warning</h3>

<p>You should only download videos which you have permission to do so. The following is just an example of how to do this, when you have permission.</p>

<h3 id="requirements:530784e281eacfc273aaf409e299faae">Requirements</h3>

<p>You&rsquo;ll need to install WWW::YouTube::Download. The CPAN Testers <a href="http://matrix.cpantesters.org/?dist=WWW-YouTube-Download+0.56">results</a> for the latest version (0.56 at the time of writing) show that it runs on all major platforms.</p>

<p>You can install the module via CPAN at the command line:</p>

<pre><code class="language-prettyprint">$ cpan WWW:YouTube::Download
</code></pre>

<h3 id="use-the-youtube-download-app:530784e281eacfc273aaf409e299faae">Use the youtube-download app</h3>

<p>When you install WWW::YouTube::Download, it comes with a command-line app, &ldquo;youtube-download&rdquo;. Using it couldn&rsquo;t be easier. Simply open the command line and type the program name with the URL or video id of the video to download. For example:</p>

<pre><code class="language-prettyprint">$ youtube-download http://www.youtube.com/watch?v=ju1IMxGSuNE
</code></pre>

<p>*<strong>NB</strong> - using the app as shown above is the easiest way to use the tool - however at the time of writing I was not aware of the command line tool. Read on for the one liner example.*</p>

<h3 id="download-a-video-in-one-line-of-perl:530784e281eacfc273aaf409e299faae">Download a video in one line of Perl</h3>

<p>At the command line, type or paste the following command, replacing $id with the id of the video you want to download:</p>

<pre><code class="language-prettyprint">$ perl -MWWW::YouTube::Download -e 'WWW::YouTube::Download-&gt;new-&gt;download(q/$id/)'
</code></pre>

<h3 id="explaining-the-one-liner:530784e281eacfc273aaf409e299faae">Explaining the one liner</h3>

<p>This one liner is simple. First we load WWW::YouTube::Download using the &ldquo;-M&rdquo; switch. Then the &ldquo;-e&rdquo; switch tells Perl to execute the code between the apostrophes. We then initiate a WWW::YouTube::Download object with new, and immediately call the <a href="https://metacpan.org/pod/WWW::YouTube::Download#download-video_id-args">download</a> method on the new object. We use the quoting construct &ldquo;q//&rdquo; to quote strings without using quote marks as this makes the one liner more cross-platform compatible.</p>

<h3 id="on-windows:530784e281eacfc273aaf409e299faae">On Windows</h3>

<p>On Windows, you&rsquo;ll need to replace the apostrophes with double quotes (&ldquo;).</p>

<h3 id="how-to-get-the-video-id:530784e281eacfc273aaf409e299faae">How to get the video id</h3>

<p>The video id is the alphanumeric code value for &ldquo;v&rdquo; in the URL of the video you want to download. For example with this URL:</p>

<pre><code class="language-prettyprint">http://www.youtube.com/watch?v=ju1IMxGSuNE
</code></pre>

<p>&ldquo;ju1IMxGSuNE&rdquo; is the video id, because if you look in the URL after the question mark, v=ju1IMxGSuNE, which means &ldquo;the value for v equals ju1IMxGSuNE&rdquo;. If you have a URL but can&rsquo;t work out the video id, WWW::YouTube::Download provides a video_id method. This one liner will print out the video id, just replace $url with the actual YouTube URL.</p>

<pre><code class="language-prettyprint">$ perl -MWWW::YouTube::Download -E 'say WWW::YouTube::Download-&gt;new-&gt;video_id(q{$url})'
</code></pre>

<h3 id="a-perl-script-to-download-youtube-videos:530784e281eacfc273aaf409e299faae">A Perl script to download YouTube videos</h3>

<p>We can expand the concepts used in the one liner into a fully-fledged Perl script, called &ldquo;download.pl&rdquo;:</p>

<pre><code class="language-prettyprint">#!/usr/bin/env perl
use strict;
use warnings;
use WWW::YouTube::Download;

if (@ARGV) {
    my $tube = WWW::YouTube::Download-&gt;new;
    my $video_id = $tube-&gt;video_id($ARGV[0]);
    $tube-&gt;download($video_id, { filename =&gt; '{title}{suffix}' }); 
}
</code></pre>

<p>The script takes a YouTube URL as an argument. It gets the video id of the URL, then downloads the video into the current directory. As an added bonus, the script will save the file with the title of the video, instead of the default which is the video id. You can run the script at the command line, passing the URL of the YouTube video to download. For example:</p>

<pre><code class="language-prettyprint">$ ./download.pl http://www.youtube.com/watch?v=ju1IMxGSuNE
</code></pre>

<p>You may need to set the script&rsquo;s permissions to executable using chmod:</p>

<pre><code class="language-prettyprint">$ chmod 755 download.pl
</code></pre>

<h3 id="conclusion:530784e281eacfc273aaf409e299faae">Conclusion</h3>

<p>WWW::YouTube::Download is easy to use, fast and just works. The module&rsquo;s <a href="https://metacpan.org/pod/WWW::YouTube::Download">documentation</a> is easy to follow. Thanks to Yuji Shimada for writing it!</p>

<p>There is more to WWW::YouTube::Download than shown here - one interesting feature is that you can specify the video format (if more than one is available). By default the module downloads the highest quality video available.</p>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/web">web</a></div>
                
                  <div class="tag"><a href="/tags/one_liner">one_liner</a></div>
                
                  <div class="tag"><a href="/tags/youtube">youtube</a></div>
                
                  <div class="tag"><a href="/tags/old_site">old_site</a></div>
                
              </div>
            </div>
            <div class="row" id="author-bio">
              
              <div class="col-sm-2">
                <div class="circle-avatar" style="background-image:url(/images/author/david.jpg)"></div>
              </div>
              <div class="col-sm-10">
                <h3>David Farrell</h3>
                <p>David is the founder and editor of PerlTricks.com. An organizer of the <a href="http://www.meetup.com/The-New-York-Perl-Meetup-Group/">New York Perl Meetup</a>, he works as a technology consultant in New York City.</p>
                <h5><a href="/authors/david-farrell">Browse their articles</a></h5>
              </div>
            </div>
            <div class="push"></div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-perltricks-blue">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
        
        
  <div class="row">
      <a href="http://perltricks.com/article/displaying-the-git-branch-in-the-terminal-prompt-with-perl/">
    <div class="col-sm-3">
      <div class="circle-avatar" style="background-image:url(/images/displaying-the-git-branch-in-the-terminal-prompt-with-perl/Git-Logo-1788C.png)"></div>
    </div>
    <div class="col-sm-9">
        <h6>Displaying the Git branch in the terminal prompt with and without Perl</h6>
        <p style="line-height:1"><small>Where am I again? No more typing &#34;git branch&#34;</small></p>
    </div>
      </a>
  </div>
  
        
        
  <div class="row">
      <a href="http://perltricks.com/article/april_fools/">
    <div class="col-sm-3">
      <div class="circle-avatar" style="background-image:url(/images/author/brian.jpg)"></div>
    </div>
    <div class="col-sm-9">
        <h6>Perl Jam VI: April Trolls</h6>
        <p style="line-height:1"><small>Perl&#39;s ignored security problems, j/k but srsly this time</small></p>
    </div>
      </a>
  </div>
  
        
        
  <div class="row">
      <a href="http://perltricks.com/article/what-s-new-on-cpan---April-2016/">
    <div class="col-sm-3">
      <div class="circle-avatar" style="background-image:url(/images/168/81C6F1B4-DCE9-11E4-86D9-23646037288D.png)"></div>
    </div>
    <div class="col-sm-9">
        <h6>What&#39;s new on CPAN - April 2016</h6>
        <p style="line-height:1"><small>A curated look at April&#39;s new CPAN uploads</small></p>
    </div>
      </a>
  </div>
  
        
        
  <div class="row">
      <a href="http://perltricks.com/article/fixing-a-sluggish-linux-after-suspend-resume/">
    <div class="col-sm-3">
      <div class="circle-avatar" style="background-image:url(/images/author/david.jpg)"></div>
    </div>
    <div class="col-sm-9">
        <h6>Fixing a sluggish Linux after suspend-resume</h6>
        <p style="line-height:1"><small>The cpupower program can resolve throttled machines</small></p>
    </div>
      </a>
  </div>
  
        
        
  <div class="row">
      <a href="http://perltricks.com/article/how-to-parse-binary-data-with-perl/">
    <div class="col-sm-3">
      <div class="circle-avatar" style="background-image:url(/images/how-to-parse-binary-data-with-perl/hackers_internet.jpg)"></div>
    </div>
    <div class="col-sm-9">
        <h6>How to parse binary data with Perl</h6>
        <p style="line-height:1"><small>Parsing binary data is easy with unpack</small></p>
    </div>
      </a>
  </div>
  
</div>

            <div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-dnt="true" href="https://twitter.com/PerlTricks" data-widget-id="618973837762383879">Tweets by @PerlTricks</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </div>
</div>

            <div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="/widgets/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

            <div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>

            </div>
          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/">Articles</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-4">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: editor@perltricks.com</p>
        <p>Follow us:&nbsp;
          <a href="https://twitter.com/intent/follow?screen_name=perltricks">
              <img src="/images/footer/twitter_20_dark.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/footer/rss_20_dark.png" alt="rss"></a>
          <a href="https://github.com/dnmfarrell/perltricks-static/" />
              <img src="/images/header/github_light_20.png" alt="GH"></a></p>
          <p>&copy; <span id="year"></span> PerlTricks.com</p>
      </div>
      <div class="col-md-7">
          <h5>Legal</h5>
          <p>PerlTricks.com and the authors make no representations or warranties with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. No warranty may be created or extended. The advice and strategies published on this website may not be suitable for every situation. All work on this website is provided with the understanding that PerlTricks.com and the authors are not engaged in rendering legal, accounting, or other professional services. Neither PerlTricks.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<link href="/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/css/perltricks.css"/>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script src="/javascript/prettify.min.js"></script>
<script>document.getElementById("year").innerHTML = (new Date()).getFullYear();prettyPrint();</script>
</body>
</html>

